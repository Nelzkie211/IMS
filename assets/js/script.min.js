function toDo(){var e=window.localStorage.getItem("nav"),t=window.localStorage.getItem("sect");null==e?($("#homeSection").show(),$("#home").removeClass("text-white"),$("#home").addClass("text-danger")):($("section").hide(),$("#"+t).show(),$("a.nav-link").removeClass("text-danger"),$("a.nav-link").addClass("text-white"),$("#"+e).removeClass("text-white"),$("#"+e).addClass("text-danger")),"itemList"===window.localStorage.getItem("nav")?itemTable():$("#itemTable").DataTable().clear().destroy()}function keyFunc(){var e=document.getElementById("desc"),t=document.getElementById("units"),n=document.getElementById("itemId"),o=document.getElementById("insertItem");document.addEventListener("keydown",function(d){switch(d.keyCode){case 37:t===document.activeElement?(document.getElementById("desc").focus(),document.getElementById("units").blur()):o===document.activeElement&&(document.getElementById("insertItem").blur(),document.getElementById("units").focus());break;case 39:e===document.activeElement?(document.getElementById("desc").blur(),document.getElementById("units").focus()):t===document.activeElement&&(document.getElementById("unit").blur(),document.getElementById("insertItem").focus());break;case 13:o!==document.activeElement&&t!==document.activeElement||$.ajax({type:"post",url:"addItem",dataType:"json",data:{desc:e.value,units:t.value,itemId:n.value},success:e=>{document.getElementById("itemId").value="",document.getElementById("desc").value="",document.getElementById("units").value="",$("#exampleModal").modal("show"),document.getElementById("alertSpan").innerHTML="Success...",setTimeout(function(){$("#exampleModal").modal("hide"),document.getElementById("desc").focus()},1e3),itemTable()},error:e=>{}})}})}function itemTable(){$("#itemTable").DataTable().clear().destroy(),$("#itemTable").DataTable({processing:!0,serverSide:!0,pagingType:"first_last_numbers",ajax:{url:"getItem",type:"post",dataType:"json"},bLengthChange:!1,responsive:!0,columnDefs:[{orderable:!1,targets:-1}]})}const home=document.querySelector("#home"),dashboard=document.querySelector("#dashboard"),inventory=document.querySelector("#inventory"),itemList=document.querySelector("#itemList"),addItem=document.querySelector("#addItem");document.addEventListener("DOMContentLoaded",()=>{var e=document.querySelector(".itemClass1"),t=document.querySelector(".itemClass2");e.style.display="none",t.style.display="none",keyFunc(),toDo()}),home.addEventListener("click",()=>{window.localStorage.clear(),window.localStorage.setItem("nav","home"),window.localStorage.setItem("sect","homeSection"),toDo()}),dashboard.addEventListener("click",()=>{window.localStorage.clear(),window.localStorage.setItem("nav","dashboard"),window.localStorage.setItem("sect","dashboardSection"),toDo()}),inventory.addEventListener("click",()=>{window.localStorage.clear(),window.localStorage.setItem("nav","inventory"),window.localStorage.setItem("sect","inventorySection"),toDo()}),itemList.addEventListener("click",()=>{window.localStorage.clear(),window.localStorage.setItem("nav","itemList"),window.localStorage.setItem("sect","itemSection"),toDo(),itemTable()}),addItem.addEventListener("click",()=>{var e=document.querySelector(".itemClass1"),t=document.querySelector(".itemClass2");"none"==e.style.display?(e.style.display="",t.style.display="",document.getElementById("desc").focus()):(e.style.display="none",t.style.display="none",document.getElementById("desc").blur(),document.getElementById("units").blur(),document.getElementById("desc").value="",document.getElementById("units").value="")}),$("#itemTable").on("click",".itemEditClass",function(){var e=document.querySelector(".itemClass1"),t=document.querySelector(".itemClass2");e.style.display="",t.style.display="",document.getElementById("desc").focus(),document.getElementById("itemId").value=$(this).data("id"),document.getElementById("desc").value=$(this).data("desc"),document.getElementById("units").value=$(this).data("unit")}),$("#itemTable").on("click",".itemDeleteClass",function(){var e=document.querySelector(".itemClass1"),t=document.querySelector(".itemClass2");e.style.display="none",t.style.display="none",document.getElementById("desc").blur(),document.getElementById("units").blur(),confirm("Are you sure you want to delete? _"+$(this).data("id"))&&$.ajax({type:"post",url:"delItem",dataType:"json",data:{itemId:$(this).data("id")},success:e=>{$("#exampleModal").modal("show"),document.getElementById("alertSpan").innerHTML="Successfully deleted...",setTimeout(function(){$("#exampleModal").modal("hide")},1e3),itemTable()},error:e=>{}})});